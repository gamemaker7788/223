<!doctype html>
<html lang="zh-CN" data-theme="bright">
<head>
<meta charset="utf-8">
<title>ç­çº§ Weekly Report - Week3</title>
<style>
/* ===== ç»§æ‰¿ tb.html çš„ç°è“å˜é‡ ===== */
:root[data-theme="bright"]{
  --bg:#ffffff;--text:#333333;--gray1:#cccccc;--gray2:#bbbbbb;
  --bottom-blue:#38bdf8;--blue-glow:#38bdf822;
}
:root[data-theme="dark"]{
  --bg:#1e1e1e;--text:#e5e5e5;--gray1:#555555;--gray2:#333333;
  --bottom-blue:#38bdf8;--blue-glow:#38bdf833;
}
* {box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}
body{margin:0;background:var(--bg);color:var(--text);line-height:1.6;}

/* é¡¶éƒ¨æ  */
.toolbar{
	display:flex;
	align-items:center;
	justify-content:space-between;
	padding:0px;
	margin: 0px;
	height: 30vh;
	width: 100%;
}
.toolbar h1{margin:0;font-size:20px;font-weight:600}
.switch{cursor:pointer;font-size:14px;background:var(--gray1);color:var(--text);border:none;border-radius:6px;padding:6px 12px}

/* å¡ç‰‡å®¹å™¨ */
.card{margin:16px 24px;padding:18px 22px;border:2px solid var(--gray1);border-radius:14px;background:transparent;}
.card h3{margin:0 0 12px;font-size:17px;font-weight:600;color:var(--bottom-blue)}

/* ===== 1. 3D äº’æ–¥æŒ‰é’®ç»„ï¼ˆå‘¨æ¬¡é€‰æ‹©ï¼‰===== */
.btn-group{display:flex;gap:8px;margin-bottom:12px}
.d-btn{position:relative;padding:6px 14px;font-size:14px;font-weight:600;border:2px solid var(--gray1);border-radius:6px;background:transparent;color:var(--text);cursor:pointer;top:0;box-shadow:0 3px 0 var(--gray2);transition:all .12s ease}
.d-btn:hover{transform:translateY(-2px);box-shadow:0 5px 0 var(--gray2)}
.d-btn.active{border-color:var(--bottom-blue);color:var(--bottom-blue);box-shadow:0 3px 0 var(--bottom-blue)}
.d-btn:active{transform:translateY(2px);box-shadow:0 1px 0 var(--gray2)}

/* ===== 2. æ»šåŠ¨æ¡åˆ—è¡¨ ===== */
.mini-scroll{max-height:140px;overflow:auto;padding-right:8px}
.mini-scroll::-webkit-scrollbar{width:6px}
.mini-scroll::-webkit-scrollbar-thumb{background:var(--bottom-blue);border-radius:3px}
.mini-scroll{scrollbar-width:thin;scrollbar-color:var(--bottom-blue) transparent}

/* ===== 3. ç»Ÿè®¡æ•°å­— ===== */
.stat{display:flex;justify-content:space-around;text-align:center;margin-top:12px}
.stat div{font-size:24px;font-weight:700;color:var(--bottom-blue)}
.stat small{display:block;font-size:13px;font-weight:400;color:var(--text);margin-top:4px}

/* ===== 4. ä¸‹å‘¨å¤‡å¿˜è¾“å…¥ ===== */
.duo-input{width:100%;padding:10px 14px;font-size:15px;border:2px solid var(--gray1);border-bottom:4px solid var(--bottom-blue);border-radius:14px;background:transparent;outline:none;transition:border-color .25s,box-shadow .25s}
.duo-input:focus{border-color:var(--bottom-blue);box-shadow:0 6px 12px -4px var(--bottom-blue)}

/* ===== 5. æ—¥æœŸé€‰æ‹©å™¨ ===== */
.duo-date{padding:6px 12px;font-size:15px;border:2px solid var(--gray1);border-radius:14px;background:transparent;color:var(--text);outline:none;transition:border-color .2s,box-shadow .2s;-webkit-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23999'%3E%3Cpath d='M4 6h8l-4 4z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;background-size:14px;cursor:pointer}
.duo-date:focus{border-color:var(--bottom-blue);box-shadow:0 0 0 4px var(--blue-glow)}
.title-img{
  height:100%;          /* æ ¹æ®å®é™…å›¾é«˜è°ƒæ•´ */
  width:100%;
  display:block;
  object-fit:contain;   /* é˜²æ­¢æ‹‰ä¼¸ */
}
/* æš—è‰²ä¸»é¢˜ä¸‹åç™½ï¼Œè®©æ·±è‰² LOGO å¯è§ */
:root[data-theme="dark"] .title-img{
  filter:invert(1) hue-rotate(180deg);   /* ç®€æ˜“åè‰²ï¼Œå¯æ¢æˆä½ è‡ªå·±çš„ç™½ç‰ˆ LOGO */
}
figure {
            margin: 32px 0;
            text-align: center;
        }
        figure img {
	max-width: 100%;
	height: auto;
	border-radius: 8px;
	box-shadow: 0 4px 12px rgba(0,0,0,.08);
	width: 30vw;
	margin: 5px;
	border: 2px solid #FFF;
        }
        figcaption {
            margin-top: 10px;
            font-size: 14px;
            color: #666;
        }
		

/* ===== ä¸»é¢˜å˜é‡ ===== */
:root[data-theme="bright"]{--bg:#fff;--text:#333;--gray1:#ccc;--gray2:#bbb;--bottom-blue:#38bdf8;--blue-glow:#38bdf822;}
:root[data-theme="dark"]{--bg:#1e1e1e;--text:#e5e5e5;--gray1:#555;--gray2:#333;--bottom-blue:#38bdf8;--blue-glow:#38bdf833;}
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;}
body{margin:0;background:var(--bg);color:var(--text);line-height:1.6;}

/* é¡¶éƒ¨æ  */
.toolbar{display:flex;align-items:center;justify-content:space-between;padding:0;margin:0;height:30vh;width:100%;}
.toolbar h1{margin:0;font-size:20px;font-weight:600}
.switch{cursor:pointer;font-size:14px;background:var(--gray1);color:var(--text);border:none;border-radius:6px;padding:6px 12px}

/* å¡ç‰‡å®¹å™¨ */
.card{margin:16px 24px;padding:18px 22px;border:2px solid var(--gray1);border-radius:14px;background:transparent;}
.card h3{margin:0 0 12px;font-size:17px;font-weight:600;color:var(--bottom-blue)}
.btn-group{display:flex;gap:8px;margin-bottom:12px}
.d-btn{position:relative;padding:6px 14px;font-size:14px;font-weight:600;border:2px solid var(--gray1);border-radius:6px;background:transparent;color:var(--text);cursor:pointer;top:0;box-shadow:0 3px 0 var(--gray2);transition:all .12s ease}
.d-btn:hover{transform:translateY(-2px);box-shadow:0 5px 0 var(--gray2)}
.d-btn.active{border-color:var(--bottom-blue);color:var(--bottom-blue);box-shadow:0 3px 0 var(--bottom-blue)}
.d-btn:active{transform:translateY(2px);box-shadow:0 1px 0 var(--gray2)}

/* ä¸è¿ç»­ä¸‹åˆ’çº¿ */
.word{border-bottom:1px dotted var(--bottom-blue);cursor:pointer;transition:border-color .2s}
.word:hover{border-bottom-style:dashed}

/* å¼¹çª—å¡ç‰‡ */
#wordCard{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--bg);border:2px solid var(--bottom-blue);border-radius:12px;padding:16px 20px;box-shadow:0 8px 24px rgba(0,0,0,.25);z-index:9999;display:none;min-width:220px}
#wordCard h4{margin:0 0 6px;font-size:20px;color:var(--bottom-blue)}
#wordCard .phonetic{font-size:15px;color:var(--text)}
#wordCard .mean{font-size:14px;margin-top:8px;color:var(--text)}
#wordCard .speaker{width:36px;height:36px;border:2px solid var(--bottom-blue);border-radius:50%;background:transparent;cursor:pointer;margin-top:10px;display:flex;align-items:center;justify-content:center}
#wordCard .speaker:hover{background:var(--blue-glow)}
#overlay{position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:9998;display:none}
details.eg-box{margin-top:8px}details.eg-box summary{display:inline-block;padding:4px 10px;font-size:13px;cursor:pointer}details.eg-box .card{margin-top:6px;padding:10px;font-size:13px;color:#666;white-space:pre-line}
/* è‡ªå®šä¹‰å–‡å­å›¾æ ‡ */
.speaker-icon {
  width: 20px;          /* æŒ‰éœ€è°ƒæ•´ */
  height: 20px;
  display: block;
}
/* æš—è‰²ä¸»é¢˜åç™½ */
:root[data-theme="dark"] .speaker-icon {
  filter: invert(1);    /* é»‘å›¾å˜ç™½å›¾ */
}

</style>
<script src="theme.js"></script>
</head>
<body>
<div class="card">
<div class="toolbar">
  <img class="title-img" src="title.png" alt="ç­çº§ Weekly Report">
</div>
<div class="btn-group">
  <button class="switch" onClick="toggleTheme()">åˆ‡æ¢ä¸»é¢˜</button>
  <button class="d-btn active">ç¬¬ 3 å‘¨</button>
  <a class="d-btn" href="index.html">è¿”å›</a>
</div>

<!-- 1. å‡ºå‹¤ç»Ÿè®¡ -->
<section class="card">
  <h3><span class="word">The</span> <span class="word">third</span> <span class="word">publication</span></h3>
    <p><span class="word">Chief</span> <span class="word">editor</span>:<span class="word">Wang</span> <span class="word">Wenyu</span></p>
    <p><span class="word">Associate</span> <span class="word">editor</span>:<span class="word">Fu</span> <span class="word">Ziyu</span></p>
    <p><span class="word">Website</span> <span class="word">Builder</span>:<span class="word">Wang</span> <span class="word">Qizhao</span></p>
    <p><span class="word">ALL</span> <span class="word">CONTRIBUTOR</span> <span class="word">ARE</span> <span class="word">WELCOME</span>!!!</p>
</section>

<!-- 2. è¯¾å ‚è¡¨ç° -->
<section class="card">
  <h1><span class="word">Hilarious</span> <span class="word">Character</span> <span class="word">Drawing</span></h1>
    <h3><span class="word">Time</span>:<span class="word">December</span> <span class="word">26th</span>, <span class="word">2025</span></h3>
    <p><span class="word">Writer</span>:<span class="word">Wang</span> <span class="word">Wenyu</span></p>
    <p><span class="word">Helper</span>:<span class="word">Fu</span> <span class="word">Ziyu</span></p>
    <p><span class="word">Many</span> <span class="word">artists</span> <span class="word">appeared</span> <span class="word">in</span> <span class="word">Class</span> <span class="word">223</span> <span class="word">during</span> <span class="word">the</span> <span class="word">art</span> <span class="word">lesson</span> <span class="word">on</span> <span class="word">the</span> <span class="word">morning</span> <span class="word">of</span> <span class="word">the</span> <span class="word">26th</span>.<br>
    <span class="word">Here</span> <span class="word">are</span> <span class="word">some</span> <span class="word">of</span> <span class="word">the</span> <span class="word">pictures</span> <span class="word">they</span> <span class="word">drew</span>.</p>
</section>
<section class="card">
<figure><img src="1.jpg" alt="æ’ç”»"><img src="2.jpg" alt="æ’ç”»"><img src="3.jpg" alt="æ’ç”»"><img src="4.jpg" alt="æ’ç”»"><img src="5.jpg" alt="æ’ç”»"></figure>
</section>
<!-- 3. æ³¨è§£ -->
<section class="card">
  <h1>- The end -</h1>
</section>
</div>

<!-- å¼¹çª—ç»“æ„ -->
<div id="overlay"></div>
<div id="wordCard">
  <h4 id="wcWord"></h4>
  <div class="phonetic" id="wcPhonetic"></div>
  <div class="mean" id="wcMean"></div>
  <details class="eg-box">
    <summary class="d-btn">ğŸ”ˆ ä¾‹å¥</summary>
    <div class="card"><span id="wcEg"></span></div>
  </details>
  <button class="speaker" id="wcSpeaker"><img src="speaker.png" alt="æœ—è¯»" class="speaker-icon"></button>
</div>
<!-- çˆ¶é¡µé¢ä»»æ„ä½ç½®æ”¾è¿™ä¸€è¡Œ -->
<iframe id="chatFrame" width="100%" height="600" frameborder="0"></iframe>

<script>
/* ========== é€šç”¨æ£€æµ‹ + åˆ‡æ¢ï¼ˆæ— åˆ·æ–°ç‰ˆï¼‰ ========== */
const LOGIN_SRC = 'login.html';   // åŒç›®å½•ç™»å½•é¡µ
const CHAT_SRC  = 'pl/pl_week3.html';      // åŒç›®å½•èŠå¤©é¡µ
const frame = document.getElementById('chatFrame');

/* é¦–æ¬¡åŠ è½½ï¼šæœ‰ç™»å½•â†’èŠå¤©é¡µï¼Œæ— ç™»å½•â†’ç™»å½•é¡µ */
function loadFrame() {
  const user = localStorage.getItem('user');
  frame.src = user ? CHAT_SRC : LOGIN_SRC;
}
loadFrame();

/* å­é¡µé¢ç™»å½•æˆåŠŸåé€šçŸ¥çˆ¶é¡µâ†’æ¢æº */
window.addEventListener('message', e => {
  if (e.data.action === 'logged') {
    // æ— é—ªåˆ‡æ¢ï¼šå…ˆéšè—â†’æ¢æºâ†’åŠ è½½å®Œå†æ˜¾ç¤º
    frame.style.display = 'none';
    frame.src = CHAT_SRC;
    frame.onload = () => frame.style.display = 'block';
  }
});

/* å¯é€‰ï¼šç»Ÿä¸€ç™»å‡ºï¼ˆåªæ¢æºï¼Œä¸åˆ·æ–°çˆ¶é¡µï¼‰ */
function globalLogout() {
  localStorage.removeItem('user');
  frame.style.display = 'none';
  frame.src = LOGIN_SRC;
  frame.onload = () => frame.style.display = 'block';
}
</script>


<script src="dict.js"></script>
<script>
/* ---------- ç‚¹è¯å¼¹çª— ---------- */
document.addEventListener('click', e => {
  const w = e.target.closest('.word');
  if (!w) return;
  const raw = w.textContent.trim().toLowerCase();
  const entry = DICT[raw] || { ph: '', zh: 'ï¼ˆæš‚æ— é‡Šä¹‰ï¼‰', eg: '' };
  showCard(w.textContent, entry.ph, entry.zh, entry.eg);
});
const overlay = document.getElementById('overlay');
const wordCard = document.getElementById('wordCard');
const wcWord = document.getElementById('wcWord');
const wcPhonetic = document.getElementById('wcPhonetic');
const wcMean = document.getElementById('wcMean');
const wcEg = document.getElementById('wcEg');
const wcSpeaker = document.getElementById('wcSpeaker');

function showCard(word, phonetic, mean, eg = '') {
  wcWord.textContent = word;
  wcPhonetic.textContent = phonetic;
  wcMean.textContent = mean;
  wcEg.innerHTML = eg;
  overlay.style.display = 'block';
  wordCard.style.display = 'block';
  speak(word);
}
function hideCard() {
  overlay.style.display = 'none';
  wordCard.style.display = 'none';
}
overlay.onclick = hideCard;
document.onkeydown = e => e.key === 'Escape' && hideCard();

function speak(text) {
  if (!('speechSynthesis' in window)) return;
  speechSynthesis.cancel();
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = 'en-US';
  utter.rate = 0.9;
  speechSynthesis.speak(utter);
}
wcSpeaker.onclick = () => speak(wcWord.textContent);

/* äº’æ–¥æŒ‰é’® */
document.addEventListener('click', e => {
  const btn = e.target.closest('.d-btn');
  const group = e.target.closest('.btn-group');
  if (btn) {
    group.querySelectorAll('.d-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }
});
</script>
</body>
</html>
